

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pyplanet.views &mdash; PyPlanet 0.1.3 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="PyPlanet 0.1.3 documentation" href="../index.html"/>
        <link rel="up" title="API Documentation" href="index.html"/>
        <link rel="next" title="pyplanet.core.exceptions" href="core_exceptions.html"/>
        <link rel="prev" title="pyplanet.apps" href="apps.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> PyPlanet
          

          
          </a>

          
            
            
              <div class="version">
                0.1.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/upgrading.html">Upgrading PyPlanet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../convert/index.html">Migrating from old controller</a></li>
</ul>
<p class="caption"><span class="caption-text">Apps Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../apps/contrib/admin.html">Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/contrib/jukebox.html">Jukebox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/contrib/karma.html">Karma</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/contrib/local_records.html">Local Records</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/contrib/dedimania.html">Dedimania Records</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/contrib/mapinfo.html">Map Info</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/contrib/players.html">Players</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/contrib/mx.html">ManiaExchange</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../architecture/index.html">Architecture &amp; Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/index.html">App Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../signals/index.html">Signals (callbacks)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="apps.html">pyplanet.apps</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">pyplanet.views</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">pyplanet.views</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pyplanet.views.generics.alert">pyplanet.views.generics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="core_exceptions.html">pyplanet.core.exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="core_instance.html">pyplanet.core.instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="core_ui.html">pyplanet.core.ui</a></li>
<li class="toctree-l2"><a class="reference internal" href="core_storage.html">pyplanet.core.storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="core_events.html">pyplanet.core.events</a></li>
<li class="toctree-l2"><a class="reference internal" href="god.html">pyplanet.god</a></li>
<li class="toctree-l2"><a class="reference internal" href="contrib_map.html">pyplanet.contrib.map</a></li>
<li class="toctree-l2"><a class="reference internal" href="contrib_player.html">pyplanet.contrib.player</a></li>
<li class="toctree-l2"><a class="reference internal" href="contrib_command.html">pyplanet.contrib.command</a></li>
<li class="toctree-l2"><a class="reference internal" href="contrib_permission.html">pyplanet.contrib.permission</a></li>
<li class="toctree-l2"><a class="reference internal" href="contrib_setting.html">pyplanet.contrib.setting</a></li>
<li class="toctree-l2"><a class="reference internal" href="contrib_mode.html">pyplanet.contrib.mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="contrib_converter.html">pyplanet.contrib.converter</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">pyplanet.utils</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">About PyPlanet</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Support, Bug report &amp; Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../privacy.html">Privacy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../todo.html">Todo (docs)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyPlanet</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">API Documentation</a> &raquo;</li>
        
      <li>pyplanet.views</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/PyPlanet/pyplanet/blob/master/docs/source/api/views.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pyplanet-views">
<h1>pyplanet.views<a class="headerlink" href="#pyplanet-views" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>pyplanet.views<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-pyplanet.views.base"></span><dl class="class">
<dt id="pyplanet.views.base.View">
<em class="property">class </em><code class="descclassname">pyplanet.views.base.</code><code class="descname">View</code><span class="sig-paren">(</span><em>manager=None</em>, <em>id=None</em>, <em>version='3'</em>, <em>body=None</em>, <em>template=None</em>, <em>timeout=0</em>, <em>hide_click=False</em>, <em>data=None</em>, <em>player_data=None</em>, <em>throw_exceptions=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.base.View" title="Permalink to this definition">¶</a></dt>
<dd><p>Base view. The base view will inherit from <code class="docutils literal"><span class="pre">StaticManiaLink</span></code> class.</p>
<dl class="method">
<dt id="pyplanet.views.base.View.destroy">
<code class="descname">destroy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.base.View.destroy" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroy the Manialink with it&#8217;s handlers and references.
Will also hide the Manialink for all users!</p>
</dd></dl>

<dl class="method">
<dt id="pyplanet.views.base.View.destroy_sync">
<code class="descname">destroy_sync</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.base.View.destroy_sync" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroy the Manialink with it&#8217;s handlers and references.
Will also hide the Manialink for all users!</p>
<p>This method is sync and will call a async method (destroying of the manialink at our players) async but will not
be executed at the same time. Be aware with this one!</p>
</dd></dl>

<dl class="method">
<dt id="pyplanet.views.base.View.display">
<code class="descname">display</code><span class="sig-paren">(</span><em>player_logins=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.base.View.display" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the manialink. Will also render if no body is given. Will show per player or global. depending on 
the data given and stored!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>player_logins</strong> &#8211; Only display to the list of player logins given.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyplanet.views.base.View.handle_catch_all">
<code class="descname">handle_catch_all</code><span class="sig-paren">(</span><em>player</em>, <em>action</em>, <em>values</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.base.View.handle_catch_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Override this class to handle all other actions related to this view/manialink.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>player</strong> &#8211; Player instance.</li>
<li><strong>action</strong> &#8211; Action name/string</li>
<li><strong>values</strong> &#8211; Values provided by the user client.</li>
<li><strong>kwargs</strong> &#8211; <ul>
<li></li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyplanet.views.base.View.hide">
<code class="descname">hide</code><span class="sig-paren">(</span><em>player_logins=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.base.View.hide" title="Permalink to this definition">¶</a></dt>
<dd><p>Hide manialink globally of only for the logins given in parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>player_logins</strong> &#8211; Only hide for list of players, None for all players on the server.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyplanet.views.base.View.render">
<code class="descname">render</code><span class="sig-paren">(</span><em>player_login=None</em>, <em>data=None</em>, <em>player_data=None</em>, <em>template=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.base.View.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Render template. Will render template and return body.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>player_login</strong> &#8211; Render data only for player, set to None to globally render (and ignore player_data).</li>
<li><strong>data</strong> &#8211; Data to append.</li>
<li><strong>player_data</strong> &#8211; Data to append.</li>
<li><strong>template</strong> (<a class="reference internal" href="core_ui.html#pyplanet.core.ui.template.Template" title="pyplanet.core.ui.template.Template"><em>pyplanet.core.ui.template.Template</em></a>) &#8211; Template instance to use.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Body, rendered manialink + script.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyplanet.views.base.View.subscribe">
<code class="descname">subscribe</code><span class="sig-paren">(</span><em>action</em>, <em>target</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.base.View.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe to a action given by the manialink.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>action</strong> &#8211; Action name.</li>
<li><strong>target</strong> &#8211; Target method.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-pyplanet.views.template"></span><dl class="class">
<dt id="pyplanet.views.template.TemplateView">
<em class="property">class </em><code class="descclassname">pyplanet.views.template.</code><code class="descname">TemplateView</code><span class="sig-paren">(</span><em>manager=None</em>, <em>id=None</em>, <em>version='3'</em>, <em>body=None</em>, <em>template=None</em>, <em>timeout=0</em>, <em>hide_click=False</em>, <em>data=None</em>, <em>player_data=None</em>, <em>throw_exceptions=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.template.TemplateView" title="Permalink to this definition">¶</a></dt>
<dd><p>The TemplateView will provide a view based on a XML template (ManiaLink for example).
The view contains some class properties that are required to work. Those are described bellow.</p>
<p>To use the TemplateView. Initiate it in your own View class, and override one of the following methods:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Method get_context_data():</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Return the global context data here. 
Make sure you use the super() to retrieve the current context.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Method get_player_data():</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Retrieve the player specific dictionary. 
Return dict with player as key and value should contain the data dict.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Method get_template():</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Return the template instance from Jinja2. You mostly should not override this method.</td>
</tr>
</tbody>
</table>
<p>As alternative you can manipulate the instance.data and instance.player_data too.</p>
<p><strong>Properties that are useful to change</strong>:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Prop data:</th><td class="field-body">Global context data. Dict.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Prop player_data:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Player context data. Dict with player as key.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Prop hide_click:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Should the manialink disappear after clicking a button/text.</td>
</tr>
<tr class="field-even field"><th class="field-name">Prop timeout:</th><td class="field-body">Timeout to hide manialink in seconds.</td>
</tr>
</tbody>
</table>
<p><strong>Example usage:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">AlertView</span><span class="p">(</span><span class="n">TemplateView</span><span class="p">):</span>  
        <span class="n">template_name</span> <span class="o">=</span> <span class="s1">&#39;my_app/test.xml&#39;</span> <span class="c1"># template should be in: ./my_app/templates/test.xml</span>
        <span class="c1"># Some prefixes that can be used in the template_name:</span>
        <span class="c1">#</span>
        <span class="c1"># - core.views: ``pyplanet.views.templates``.</span>
        <span class="c1"># - core.pyplanet: ``pyplanet.apps.core.pyplanet.templates``.</span>
        <span class="c1"># - core.maniaplanet: ``pyplanet.apps.core.pyplanet.templates``.</span>
        <span class="c1"># - core.trackmania: ``pyplanet.apps.core.trackmania.templates``.</span>
        <span class="c1"># - core.shootmania: ``pyplanet.apps.core.shootmania.templates``.</span>
        <span class="c1"># - [app_label]: ``[app path]/templates``.</span>

        <span class="n">async</span> <span class="k">def</span> <span class="nf">get_context_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="n">context</span> <span class="o">=</span> <span class="n">await</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_context_data</span><span class="p">()</span>
                <span class="n">context</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Sample&#39;</span>
                <span class="k">return</span> <span class="n">context</span>
</pre></div>
</div>
<dl class="method">
<dt id="pyplanet.views.template.TemplateView.destroy">
<code class="descname">destroy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.template.TemplateView.destroy" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroy the Manialink with it&#8217;s handlers and references.
Will also hide the Manialink for all users!</p>
</dd></dl>

<dl class="method">
<dt id="pyplanet.views.template.TemplateView.destroy_sync">
<code class="descname">destroy_sync</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.template.TemplateView.destroy_sync" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroy the Manialink with it&#8217;s handlers and references.
Will also hide the Manialink for all users!</p>
<p>This method is sync and will call a async method (destroying of the manialink at our players) async but will not
be executed at the same time. Be aware with this one!</p>
</dd></dl>

<dl class="method">
<dt id="pyplanet.views.template.TemplateView.display">
<code class="descname">display</code><span class="sig-paren">(</span><em>player_logins=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.template.TemplateView.display" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the manialink. Will also render if no body is given. Will show per player or global. depending on 
the data given and stored!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>player_logins</strong> &#8211; Only display to the list of player logins given.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyplanet.views.template.TemplateView.get_context_data">
<code class="descname">get_context_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.template.TemplateView.get_context_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get global and local context data, used to render template.</p>
</dd></dl>

<dl class="method">
<dt id="pyplanet.views.template.TemplateView.get_player_data">
<code class="descname">get_player_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.template.TemplateView.get_player_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get data per player, return dict with login =&gt; data dict.</p>
</dd></dl>

<dl class="method">
<dt id="pyplanet.views.template.TemplateView.handle_catch_all">
<code class="descname">handle_catch_all</code><span class="sig-paren">(</span><em>player</em>, <em>action</em>, <em>values</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.template.TemplateView.handle_catch_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Override this class to handle all other actions related to this view/manialink.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>player</strong> &#8211; Player instance.</li>
<li><strong>action</strong> &#8211; Action name/string</li>
<li><strong>values</strong> &#8211; Values provided by the user client.</li>
<li><strong>kwargs</strong> &#8211; <ul>
<li></li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyplanet.views.template.TemplateView.hide">
<code class="descname">hide</code><span class="sig-paren">(</span><em>player_logins=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.template.TemplateView.hide" title="Permalink to this definition">¶</a></dt>
<dd><p>Hide manialink globally of only for the logins given in parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>player_logins</strong> &#8211; Only hide for list of players, None for all players on the server.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyplanet.views.template.TemplateView.render">
<code class="descname">render</code><span class="sig-paren">(</span><em>*args</em>, <em>player_login=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.template.TemplateView.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Render template for player. This will only render the body and return it. Not send it!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>player_login</strong> &#8211; Render data only for player, set to None to globally render (and ignore player_data).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Body, rendered manialink + script.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyplanet.views.template.TemplateView.subscribe">
<code class="descname">subscribe</code><span class="sig-paren">(</span><em>action</em>, <em>target</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.template.TemplateView.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe to a action given by the manialink.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>action</strong> &#8211; Action name.</li>
<li><strong>target</strong> &#8211; Target method.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyplanet.views.generics.alert">
<span id="pyplanet-views-generics"></span><h2>pyplanet.views.generics<a class="headerlink" href="#module-pyplanet.views.generics.alert" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyplanet.views.generics.alert.AlertView">
<em class="property">class </em><code class="descclassname">pyplanet.views.generics.alert.</code><code class="descname">AlertView</code><span class="sig-paren">(</span><em>message</em>, <em>size='md'</em>, <em>buttons=None</em>, <em>manager=None</em>, <em>target=None</em>, <em>**data</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.generics.alert.AlertView" title="Permalink to this definition">¶</a></dt>
<dd><p>The AlertView can be used to show several generic alerts to a player. You can use 3 different sizes, and adjust the
message text.</p>
<p>The 3 sizes:
sm, md and lg.</p>
<dl class="method">
<dt id="pyplanet.views.generics.alert.AlertView.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>message</em>, <em>size='md'</em>, <em>buttons=None</em>, <em>manager=None</em>, <em>target=None</em>, <em>**data</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.generics.alert.AlertView.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an AlertView instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>message</strong> (<em>str</em>) &#8211; The message to display to the end-user, Use <code class="docutils literal"><span class="pre">\n</span></code> for new lines. You can use symbols from FontAwesome
by using Unicode escaped strings.</li>
<li><strong>size</strong> (<em>str</em>) &#8211; Size to use, this parameter should be a string, and one of the following choices:
&#8216;sm&#8217;, &#8216;md&#8217; or &#8216;lg. Defaults to &#8216;md&#8217;.</li>
<li><strong>buttons</strong> (<a class="reference internal" href="#module-pyplanet.views.generics.list" title="pyplanet.views.generics.list"><em>list</em></a>) &#8211; Buttons to display, Should be an array with dictionary which contain: name.</li>
<li><strong>manager</strong> (<em>pyplanet.core.ui._BaseUIManager</em>) &#8211; UI Manager to use, You should always keep this undefined unless you know what your doing!</li>
<li><strong>target</strong> &#8211; Target coroutine method called as handle of button clicks.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyplanet.views.generics.alert.AlertView.close">
<code class="descname">close</code><span class="sig-paren">(</span><em>player</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.generics.alert.AlertView.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the alert.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyplanet.views.generics.alert.PromptView">
<em class="property">class </em><code class="descclassname">pyplanet.views.generics.alert.</code><code class="descname">PromptView</code><span class="sig-paren">(</span><em>message</em>, <em>size='md'</em>, <em>buttons=None</em>, <em>manager=None</em>, <em>default=''</em>, <em>validator=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.generics.alert.PromptView" title="Permalink to this definition">¶</a></dt>
<dd><p>The PromptView is like the AlertView but can ask for a text entry.</p>
<p>The 3 sizes:
sm, md and lg.</p>
<p>You can listen for the results of the players input with the <code class="docutils literal"><span class="pre">wait_for_input()</span></code> async handler (future).
Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">prompt</span> <span class="o">=</span> <span class="n">PromptView</span><span class="p">(</span><span class="s1">&#39;Please enter your name&#39;</span><span class="p">)</span>
<span class="n">await</span> <span class="n">prompt</span><span class="o">.</span><span class="n">display</span><span class="p">([</span><span class="s1">&#39;login&#39;</span><span class="p">])</span>

<span class="n">user_input</span> <span class="o">=</span> <span class="n">await</span> <span class="n">prompt</span><span class="o">.</span><span class="n">wait_for_input</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">user_input</span><span class="p">)</span>
</pre></div>
</div>
<p>You can do validations before it&#8217;s okay with giving a function to the argument <code class="docutils literal"><span class="pre">validator</span></code>. Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_validator</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">return</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">None</span>
        <span class="k">except</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span><span class="p">,</span> <span class="s1">&#39;Value should be an integer!&#39;</span>

<span class="n">prompt</span> <span class="o">=</span> <span class="n">PromptView</span><span class="p">(</span><span class="s1">&#39;Please enter your name&#39;</span><span class="p">,</span> <span class="n">validator</span><span class="o">=</span><span class="n">my_validator</span><span class="p">)</span>
<span class="n">await</span> <span class="n">prompt</span><span class="o">.</span><span class="n">display</span><span class="p">([</span><span class="s1">&#39;login&#39;</span><span class="p">])</span>

<span class="n">user_input</span> <span class="o">=</span> <span class="n">await</span> <span class="n">prompt</span><span class="o">.</span><span class="n">wait_for_input</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">user_input</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="pyplanet.views.generics.alert.PromptView.wait_for_input">
<code class="descname">wait_for_input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.generics.alert.PromptView.wait_for_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for input and return it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Returns the string value of the user.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-pyplanet.views.generics.list"></span><dl class="class">
<dt id="pyplanet.views.generics.list.ListView">
<em class="property">class </em><code class="descclassname">pyplanet.views.generics.list.</code><code class="descname">ListView</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.generics.list.ListView" title="Permalink to this definition">¶</a></dt>
<dd><p>The ListView is an abstract list that uses a database query to show and manipulate the list that is presented to the
end-user. The ListView is able to automatically manage the searching, ordering and pagination of your query contents.</p>
<p>The columns could be specified, for each column you can change behaviour, such as searchable and sortable. But also
custom rendering of the values that will be displayed.</p>
<p>You can override <code class="docutils literal"><span class="pre">get_fields()</span></code>, <code class="docutils literal"><span class="pre">get_actions()</span></code>, <code class="docutils literal"><span class="pre">get_query()</span></code> if you need any customization or use a self method
or variable in one of your properties.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The design and some behaviour can change in updates of PyPlanet. We aim to provide backward compatibility as much
as we can. If we are going to break things we will make it deprecated, or if we are in a situation of not having
enough time to provide a transition time, we are going to create a separate solution (like a second version).</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SampleListView</span><span class="p">(</span><span class="n">ListView</span><span class="p">):</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">Model</span><span class="o">.</span><span class="n">select</span><span class="p">()</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Model</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Select your item&#39;</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;searching&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s1">&#39;sorting&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span>
                <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Author&#39;</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="s1">&#39;author&#39;</span><span class="p">,</span> <span class="s1">&#39;searching&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s1">&#39;sorting&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span>
        <span class="p">]</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span>
                        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Delete&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">action_delete</span><span class="p">,</span>
                        <span class="s1">&#39;style&#39;</span><span class="p">:</span> <span class="s1">&#39;Icons64x64_1&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;substyle&#39;</span><span class="p">:</span> <span class="s1">&#39;Close&#39;</span>
                <span class="p">},</span>
        <span class="p">]</span>
        
        <span class="n">async</span> <span class="k">def</span> <span class="nf">action_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
                <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Delete value: {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">instance</span><span class="p">))</span>
</pre></div>
</div>
<dl class="method">
<dt id="pyplanet.views.generics.list.ListView.close">
<code class="descname">close</code><span class="sig-paren">(</span><em>player</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.generics.list.ListView.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the link for a specific player. Will hide manialink and destroy data for player specific to save memory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>player</strong> (<em>pyplanet.apps.core.maniaplanet.models.Player</em>) &#8211; Player model instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyplanet.views.generics.list.ListView.display">
<code class="descname">display</code><span class="sig-paren">(</span><em>player=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.generics.list.ListView.display" title="Permalink to this definition">¶</a></dt>
<dd><p>Display list to player.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>player</strong> (<em>str</em><em>, </em><em>pyplanet.apps.core.maniaplanet.models.Player</em>) &#8211; Player login or model instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyplanet.views.generics.list.ListView.refresh">
<code class="descname">refresh</code><span class="sig-paren">(</span><em>player</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.generics.list.ListView.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Refresh list with current properties for a specific player. Can be used to show new data changes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>player</strong> (<em>pyplanet.apps.core.maniaplanet.models.Player</em>) &#8211; Player model instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyplanet.views.generics.list.ListView.single_list">
<code class="descname">single_list</code><em class="property"> = True</em><a class="headerlink" href="#pyplanet.views.generics.list.ListView.single_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Change this to False to have multiple lists open at the same time.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyplanet.views.generics.list.ManualListView">
<em class="property">class </em><code class="descclassname">pyplanet.views.generics.list.</code><code class="descname">ManualListView</code><span class="sig-paren">(</span><em>data=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.generics.list.ManualListView" title="Permalink to this definition">¶</a></dt>
<dd><p>The ManualListView will act as a ListView, but not based on a model or query.</p>
<dl class="method">
<dt id="pyplanet.views.generics.list.ManualListView.get_data">
<code class="descname">get_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyplanet.views.generics.list.ManualListView.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Override this method, return a list with dictionaries inside.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="core_exceptions.html" class="btn btn-neutral float-right" title="pyplanet.core.exceptions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="apps.html" class="btn btn-neutral" title="pyplanet.apps" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, PyPlanet (Tom Valk).

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>