

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Life Cycle &mdash; PyPlanet 0.3.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="PyPlanet 0.3.1 documentation" href="../index.html"/>
        <link rel="up" title="App Development" href="index.html"/>
        <link rel="next" title="Create app" href="create.html"/>
        <link rel="prev" title="Apps Architecture" href="architecture.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> PyPlanet
          

          
          </a>

          
            
            
              <div class="version">
                0.3.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/upgrading.html">Upgrading PyPlanet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../convert/index.html">Migrating from old controller</a></li>
</ul>
<p class="caption"><span class="caption-text">Apps Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contrib/admin.html">Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="contrib/jukebox.html">Jukebox</a></li>
<li class="toctree-l1"><a class="reference internal" href="contrib/karma.html">Karma</a></li>
<li class="toctree-l1"><a class="reference internal" href="contrib/local_records.html">Local Records</a></li>
<li class="toctree-l1"><a class="reference internal" href="contrib/dedimania.html">Dedimania Records</a></li>
<li class="toctree-l1"><a class="reference internal" href="contrib/mapinfo.html">Map Info</a></li>
<li class="toctree-l1"><a class="reference internal" href="contrib/players.html">Players</a></li>
<li class="toctree-l1"><a class="reference internal" href="contrib/mx.html">ManiaExchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="contrib/transactions.html">Transactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="contrib/live_rankings.html">Live Rankings</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../architecture/index.html">Architecture &amp; Design</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">App Development</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="architecture.html">Apps Architecture</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Life Cycle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#on-init">on_init</a></li>
<li class="toctree-l3"><a class="reference internal" href="#on-start">on_start</a></li>
<li class="toctree-l3"><a class="reference internal" href="#on-stop">on_stop</a></li>
<li class="toctree-l3"><a class="reference internal" href="#on-destroy">on_destroy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="create.html">Create app</a></li>
<li class="toctree-l2"><a class="reference internal" href="context.html">Context (UI + Settings)</a></li>
<li class="toctree-l2"><a class="reference internal" href="access_instance.html">Contrib + Core access</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrations.html">Migrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="chat.html">Chat Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="gbx.html">Dedicated/Script methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#useful-references">Useful references</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../signals/index.html">Signals (callbacks)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">About PyPlanet</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Support, Bug report &amp; Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../privacy.html">Privacy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../todo.html">Todo (docs)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyPlanet</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">App Development</a> &raquo;</li>
        
      <li>Life Cycle</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/PyPlanet/pyplanet/blob/master/docs/source/apps/lifecycle.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="life-cycle">
<h1>Life Cycle<a class="headerlink" href="#life-cycle" title="Permalink to this headline">¶</a></h1>
<img alt="../_images/lifecycle.png" src="../_images/lifecycle.png" />
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Currently the life cycle <strong>isn&#8217;t fully implemented</strong>. Only the <code class="docutils literal"><span class="pre">on_init</span></code> and <code class="docutils literal"><span class="pre">on_start</span></code> will be called, but please
prepare your app to support the following life cycle methods.</p>
</div>
<div class="section" id="on-init">
<h2>on_init<a class="headerlink" href="#on-init" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">on_init()</span></code> is called the moment after the apps have been ordered at the dependency trees. This means, there is not
yet a stable point to communicate to apps, so it should only initiate local actions, such as clearing variables,
initing related services (like startup of http server).</p>
<p>The <code class="docutils literal"><span class="pre">on_init()</span></code> method is a <cite>coroutine</cite> and will be waited on before starting the other apps init action.</p>
</div>
<div class="section" id="on-start">
<h2>on_start<a class="headerlink" href="#on-start" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">on_start()</span></code> is called at the moment all apps, models and other components are ready and the apps should be started.
In the method you should init the receivers inside of your app, make an active operation that would init remote connections.
For example, you would really like to start showing UI for all players, or initiate local variables based on other apps
or the player manager.</p>
<p>The <code class="docutils literal"><span class="pre">on_start()</span></code> method is a <cite>coroutine</cite> and will be waited on.</p>
</div>
<div class="section" id="on-stop">
<h2>on_stop<a class="headerlink" href="#on-stop" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">on_stop()</span></code> is called when stopping the app internally (so not when exitting PyPlanet!). Some situations like
game mode switching will make sure that no apps are being active at the moment of playing an incapable game-mode, game or
another app is unloaded that was depending on your app.</p>
<p>PyPlanet will make sure your UI elements are hide from your players, so you don&#8217;t have to do this. But remember that the
app could start at any time, meaning that some context would not be valid anymore, and you should take care of this in the
<code class="docutils literal"><span class="pre">on_start()</span></code> again.</p>
<p>The <code class="docutils literal"><span class="pre">on_stop()</span></code> method is a <cite>coroutine</cite> and will be waited on.</p>
</div>
<div class="section" id="on-destroy">
<h2>on_destroy<a class="headerlink" href="#on-destroy" title="Permalink to this headline">¶</a></h2>
<p>This method is only called when the app is going to be removed from memory, just before. Mostly only used to save some data.</p>
<p>The <code class="docutils literal"><span class="pre">on_destroy()</span></code> method is a <cite>coroutine</cite> and will be waited on.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="create.html" class="btn btn-neutral float-right" title="Create app" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="architecture.html" class="btn btn-neutral" title="Apps Architecture" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, PyPlanet (Tom Valk).

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.3.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>